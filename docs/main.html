<!DOCTYPE html>  <html> <head>   <title>main.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               main.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cm">/*global window: true */</span>
<span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;zquery&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">fullbrows</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fullbrows&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">notes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;scrollable&#39;</span><span class="p">,</span>
    <span class="nx">start</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">showdown</span><span class="p">;</span>
        <span class="nx">showdown</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;showdown&#39;</span><span class="p">);</span>
        <span class="nx">showdown</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">showdown</span><span class="p">.</span><span class="nx">converter</span><span class="p">();</span>
        <span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;notes/&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">param</span> <span class="o">+</span> <span class="s1">&#39;.md&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">showdown</span><span class="p">.</span><span class="nx">makeHtml</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
            <span class="nx">app</span><span class="p">.</span><span class="nx">$</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;&lt;style&gt;&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;@font-face { font-family: Ubuntu; src: url(&quot;/images/Ubuntu-R.ttf&quot;); }&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;@font-face { font-family: sans-serif; src: url(&quot;/images/Ubuntu-R.ttf&quot;); }&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;@font-face { font-family: &quot;Ubuntu Mono&quot;; src: url(&quot;/images/UbuntuMono-R.ttf&quot;); }&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;@font-face { font-family: &quot;Ubuntu Condensed&quot;; src: url(&quot;/images/Ubuntu-C.ttf&quot;); }&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;tt { font-family: &quot;Ubuntu Mono&quot;, monospace; }&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;code { font-family: &quot;Ubuntu Mono&quot;, monospace; }&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;pre { font-family: &quot;Ubuntu Mono&quot;, monospace; }&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;body { font-family: Ubuntu, sans-serif; }&lt;/style&gt;&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">menuXml</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;solsort.dk&quot;</span><span class="p">,[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
        <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/CurriculumVitae.html&quot;</span><span class="p">},</span><span class="s2">&quot;CV&quot;</span><span class="p">]],</span>
        <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;Apps&quot;</span><span class="p">,[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/dkcities&quot;</span><span class="p">},</span><span class="s2">&quot;Danskebyer&quot;</span><span class="p">]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notescore&quot;</span><span class="p">},</span><span class="s2">&quot;notescore&quot;</span><span class="p">]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/planetcute&quot;</span><span class="p">},</span><span class="s2">&quot;PlanetCute&quot;</span><span class="p">]]]],</span>
        <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;Notes&quot;</span><span class="p">,[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notes/tekststruktur-for-rapporter.html&quot;</span><span class="p">},</span><span class="s2">&quot;Tekststruktur for rapporter&quot;</span><span class="p">]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notes/tommelfingerregler-for-skrivning.html&quot;</span><span class="p">},</span><span class="s2">&quot;Tommelfingerregler for skrivning&quot;</span><span class="p">]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notes/fototips.html&quot;</span><span class="p">},</span><span class="s2">&quot;Fototips&quot;</span><span class="p">]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;Tech&quot;</span><span class="p">,[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notes/tech/c9ender.html&quot;</span><span class="p">},</span><span class="s2">&quot;Cloud9 and Ender&quot;</span><span class="p">]],</span>
                <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notes/tech/jekyll.html&quot;</span><span class="p">},</span><span class="s2">&quot;Jekyll / github-pages&quot;</span><span class="p">]],</span>
                <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notes/tech/vim.html&quot;</span><span class="p">},</span><span class="s2">&quot;vim&quot;</span><span class="p">]],</span>
                <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notes/tech/coffee.html&quot;</span><span class="p">},</span><span class="s2">&quot;CoffeeScript&quot;</span><span class="p">]]]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/notes/ted.html&quot;</span><span class="p">},</span><span class="s2">&quot;TED talks&quot;</span><span class="p">]]]],</span>
        <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;JS&quot;</span><span class="p">,[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/devintro/book.html&quot;</span><span class="p">},</span><span class="s2">&quot;devintro&quot;</span><span class="p">]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;1k&quot;</span><span class="p">,[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/f1k/blah.html&quot;</span><span class="p">},</span><span class="s2">&quot;4d juliabrot&quot;</span><span class="p">]],</span>
                <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/f1k/rain.html&quot;</span><span class="p">},</span><span class="s2">&quot;rain&quot;</span><span class="p">]]]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;tweetsize&quot;</span><span class="p">,[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/f1k/brown.html&quot;</span><span class="p">},</span><span class="s2">&quot;brownian motion&quot;</span><span class="p">]],</span>
                <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/f1k/sierpinsky.html&quot;</span><span class="p">},</span><span class="s2">&quot;sierpinsky&quot;</span><span class="p">]]]],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;“iOS style”:&quot;</span><span class="p">],[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;“hierachical layout”:&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;“slidein transitions”:&quot;</span><span class="p">]]],</span>
        <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,</span><span class="s2">&quot;Presentations&quot;</span><span class="p">,[</span><span class="s2">&quot;ul&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;li&quot;</span><span class="p">,[</span><span class="s2">&quot;a&quot;</span><span class="p">,{</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;/presentations/oauth2.html&quot;</span><span class="p">},</span><span class="s2">&quot;OAuth2&quot;</span><span class="p">]]]]]]];</span>

<span class="kd">var</span> <span class="nx">currentName</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">dispatch</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">apps</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">name</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="o">===</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">param</span> <span class="o">=</span> <span class="nx">param</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;name:&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="s1">&#39;param:&#39;</span><span class="p">,</span> <span class="nx">param</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">apps</span><span class="p">[</span><span class="nx">name</span><span class="p">]);</span>
    <span class="nx">apps</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">param</span> <span class="o">=</span> <span class="nx">param</span><span class="p">;</span>
    <span class="nx">fullbrows</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="nx">apps</span><span class="p">[</span><span class="nx">name</span><span class="p">]);</span>
<span class="p">}</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">main</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">onhashchange</span> <span class="o">=</span> <span class="nx">dispatch</span><span class="p">;</span>
    <span class="nx">dispatch</span><span class="p">();</span>
<span class="p">});};</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">switchTo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">param</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">name</span> <span class="o">=</span> <span class="nx">currentName</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">+</span> <span class="nx">param</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">unicodeTest</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">65538</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span><span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">t</span> <span class="o">=</span> <span class="nx">t</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span> <span class="p">});</span>
    <span class="nx">t</span> <span class="o">=</span> <span class="nx">t</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span><span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">!==</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;error t[&#39;</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="s1">&#39;] -&gt; &#39;</span> <span class="o">+</span> <span class="nx">t</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;br&gt;&#39;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">apps</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">combigame</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;combigame&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">,</span>
    <span class="nx">bidiv</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;bidiv&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">,</span>
    <span class="nx">plasma</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;demoPlasma&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">,</span>
    <span class="s1">&#39;source/&#39;</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;showSource&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">,</span>
    <span class="nx">timelog</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;timelog&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">,</span>
    <span class="s1">&#39;js1k/&#39;</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;js1k&#39;</span><span class="p">).</span><span class="nx">app</span><span class="p">,</span>
    <span class="s1">&#39;notes/&#39;</span><span class="o">:</span> <span class="nx">notes</span><span class="p">,</span>
    <span class="nx">menu</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./menu&#39;</span><span class="p">).</span><span class="nx">createApp</span><span class="p">(</span><span class="nx">menuXml</span><span class="p">),</span>
    <span class="s1">&#39;default&#39;</span><span class="o">:</span> <span class="p">{</span><span class="nx">start</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="p">}}</span>
<span class="p">};</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 